!function(){"use strict";const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=Math.random().toString(36).substr(2,5)),`${e}.${t}`},t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return window.FormieTranslations&&(e=window.FormieTranslations[e]||e),e.replace(/{([a-zA-Z0-9]+)}/g,((e,i)=>t[i]?t[i]:e))};function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,i){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.FormieFileUpload=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$form=t.$form,this.form=this.$form.form,this.$field=t.$field,this.form.addEventListener(this.$form,e("registerFormieValidation"),this.registerValidation.bind(this)),this.form.addEventListener(this.$form,e("onAfterFormieSubmit"),this.onAfterSubmit.bind(this))}registerValidation(e){e.detail.validatorSettings.customValidations=r(r(r(r({},e.detail.validatorSettings.customValidations),this.getFileSizeMinLimitRule()),this.getFileSizeMaxLimitRule()),this.getFileLimitRule()),e.detail.validatorSettings.messages=r(r(r(r({},e.detail.validatorSettings.messages),this.getFileSizeMinLimitMessage()),this.getFileSizeMaxLimitMessage()),this.getFileLimitMessage())}getFileSizeMinLimitRule(){return{fileSizeMinLimit(e){const t=e.getAttribute("type"),i=e.getAttribute("data-size-min-limit"),r=1024*parseFloat(i)*1024;if("file"===t&&r)for(const t of e.files)if(t.size<r)return!0}}}getFileSizeMinLimitMessage(){return{fileSizeMinLimit(e){return t("File must be larger than {filesize} MB.",{filesize:e.getAttribute("data-size-min-limit")})}}}getFileSizeMaxLimitRule(){return{fileSizeMaxLimit(e){const t=e.getAttribute("type"),i=e.getAttribute("data-size-max-limit"),r=1024*parseFloat(i)*1024;if("file"===t&&r)for(const t of e.files)if(t.size>r)return!0}}}getFileSizeMaxLimitMessage(){return{fileSizeMaxLimit(e){return t("File must be smaller than {filesize} MB.",{filesize:e.getAttribute("data-size-max-limit")})}}}getFileLimitRule(){return{fileLimit(e){const t=e.getAttribute("type"),i=parseInt(e.getAttribute("data-file-limit"));if("file"===t&&i)return e.files.length>i||void 0}}}getFileLimitMessage(){return{fileLimit(e){return t("Choose up to {files} files.",{files:e.getAttribute("data-file-limit")})}}}onAfterSubmit(){this.$field.querySelector('[type="file"]').value=null}}}();