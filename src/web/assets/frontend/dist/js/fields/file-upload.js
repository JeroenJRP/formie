!function(){"use strict";const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return window.FormieTranslations&&(e=window.FormieTranslations[e]||e),e.replace(/{([a-zA-Z0-9]+)}/g,((e,i)=>t[i]?t[i]:e))};function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function i(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,i){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.FormieFileUpload=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$form=e.$form,this.form=this.$form.form,this.$field=e.$field,this.form.addEventListener(this.$form,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=Math.random().toString(36).substr(2,5)),`${e}.${t}`}("registerFormieValidation"),this.registerValidation.bind(this))}registerValidation(e){e.detail.validatorSettings.customValidations=i(i(i(i({},e.detail.validatorSettings.customValidations),this.getFileSizeMinLimitRule()),this.getFileSizeMaxLimitRule()),this.getFileLimitRule()),e.detail.validatorSettings.messages=i(i(i(i({},e.detail.validatorSettings.messages),this.getFileSizeMinLimitMessage()),this.getFileSizeMaxLimitMessage()),this.getFileLimitMessage())}getFileSizeMinLimitRule(){return{fileSizeMinLimit(e){const t=e.getAttribute("type"),i=e.getAttribute("data-size-min-limit"),r=1024*parseFloat(i)*1024;if("file"===t&&r)for(const t of e.files)if(t.size<r)return!0}}}getFileSizeMinLimitMessage(){return{fileSizeMinLimit(t){return e("File must be larger than {filesize} MB.",{filesize:t.getAttribute("data-size-min-limit")})}}}getFileSizeMaxLimitRule(){return{fileSizeMaxLimit(e){const t=e.getAttribute("type"),i=e.getAttribute("data-size-max-limit"),r=1024*parseFloat(i)*1024;if("file"===t&&r)for(const t of e.files)if(t.size>r)return!0}}}getFileSizeMaxLimitMessage(){return{fileSizeMaxLimit(t){return e("File must be smaller than {filesize} MB.",{filesize:t.getAttribute("data-size-max-limit")})}}}getFileLimitRule(){return{fileLimit(e){const t=e.getAttribute("type"),i=parseInt(e.getAttribute("data-file-limit"));if("file"===t&&i)return e.files.length>i||void 0}}}getFileLimitMessage(){return{fileLimit(t){return e("Choose up to {files} files.",{files:t.getAttribute("data-file-limit")})}}}}}();